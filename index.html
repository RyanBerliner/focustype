<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>focustype - better looking, intentionally designed focus states for accessible websites</title>
    <link rel="stylesheet" href="normalize.css">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i|Ubuntu:500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <h1 class="focustype-brand">focustype</h1>
    <p><strong>tl;dr</strong> better looking, intentionally designed focus states for accessible websites</p>
    <p><a href="https://github.com/RyanBerliner/focustype" class="button" target="_blank">View on GitHub</a></p>
    <p>
      This is <strong class="focustype-brand">focustype</strong>. 
      It provides useful data attributes to isolate focus events based on their 
      origins, using long and complicated javascript event handlers (kidding). Its 
      very short and simple. Check out the <a href="https://github.com/RyanBerliner/focustype" target="_blank">GitHub repository</a> for code. 
    </p>
    <p>
      Every browser seems to focus elements under different circumstances. Don't believe me? 
      Go click <a href="https://getbootstrap.com/docs/4.3/components/buttons/" target="_blank">these bootstrap buttons</a> 
      in different browsers and you'll see how the focus state shows in some browsers 
      but not others. This is becuase the visual focus state uses the <code>:focus</code> 
      selector, but different browsers focus the element differently on clicking, 
      or tabbing through. This very small javascript solution gives you insights into 
      how an element received focus, so you can make the behavior look the same 
      between all browsers under the exact scenerios you wish.
    </p>
    <h2>Why Would You Need This?</h2>
    <p>
      Focus states are an important part of letting users know what part of your web 
      page currently has focus. This is the case for almost all users of the web (even if you don't relize it), 
      and even more so for those who navigate the web <i>entirely</i> by keyboard, 
      jumping from element to element. You likely care about how your websites elements
      look for all users, and <strong class="focustype-brand">focustype</strong> helps you dial in your 
      design under all circumstances. For mouse users, and keyboard users.
    </p>
    <h2>Examples</h2>
    <p>Below are some links you can tab through.</p>
    <p>
      If you are having trouble tabbing through a page on Firefox on Mac, you may 
      need to enable it. 
      <a href="https://stackoverflow.com/questions/11704828/how-to-allow-keyboard-focus-of-links-in-firefox" target="_blank">This is how I did it.</a>
    </p>
    <p>And, for reference, when an item has a styled focus state it will <span class="focus-style">look like this</span>.</p>
    <noscript>
      <strong>Please turn on javascript if you'd like to see the examples work properly.</strong>
    </noscript>
    <section id="tradition-focus-problem">
      <h3>Traditional <code>:focus</code> Problem</h3>
      <p>
        You'll notice on  Chrome, for example, that if I apply a style to <code>:focus</code> the elements 
        will get this styling event on click. This is likely not your intention. 
      </p>
      <p>
        This is a <a href="#0">link.</a>
        And here is <a href="#1">another link.</a>
        And here is <a href="#2">another link.</a>
        And here is <a href="#3">another link.</a>
        And here is <a href="#4">another link.</a>
        And here is <a href="#5">another link.</a>
        And here is <a href="#6">another link.</a>
        And here is <a href="#7">another link.</a>
        And here is <a href="#8">another link.</a>
        And here is <a href="#9">another link.</a>
        And here is <a href="#10">another link.</a>
      </p>
      <p tabindex="0">
        This is a focusable p.
      </p>
      <div tabindex="0">
        <div>
          <p>Nested content in a focusable element.</p>
        </div>
      </div>
      <a href="#11" class="hover-focus">This will focus programatically on mouseover.</a>
    </section>
    <section id="key-only-focus">
      <h3>Key Only Focus</h3>
      <p>
        Using <strong class="focustype-brand">focustype</strong> our selector can change to <code>[data-focustype="key"]:focus</code>. 
        You'll now notice in all browsers the focus styling is only applied on key focus. 
        (from tabbing through the page).
      </p>
      <p>
        This is a <a href="#0">link.</a>
        And here is <a href="#1">another link.</a>
        And here is <a href="#2">another link.</a>
        And here is <a href="#3">another link.</a>
        And here is <a href="#4">another link.</a>
        And here is <a href="#5">another link.</a>
        And here is <a href="#6">another link.</a>
        And here is <a href="#7">another link.</a>
        And here is <a href="#8">another link.</a>
        And here is <a href="#9">another link.</a>
        And here is <a href="#10">another link.</a>
      </p>
      <p tabindex="0">
        This is a focusable p.
      </p>
      <div tabindex="0">
        <div>
          <p>Nested content in a focusable element.</p>
        </div>
      </div>
      <a href="#11" class="hover-focus">This will focus programatically on mouseover.</a>
    </section>
    <section id="mouse-only-focus">
      <h3>Mouse Only Focus</h3>
      <p>
        You can also do this with mouse only focus. Its important to note though that 
        this selector does not contain the <code>:focus</code> state, so its just 
        <code>[data-focustype="mouse"]</code>. This is because some browsers, while 
        putting focus on the element you click, don't actually put "focus" on the element.
        So, if we include the <code>:focus</code> state on this selector it wouldn't 
        show up in these browsers.
      </p>
      <p>
        This is a <a href="#0">link.</a>
        And here is <a href="#1">another link.</a>
        And here is <a href="#2">another link.</a>
        And here is <a href="#3">another link.</a>
        And here is <a href="#4">another link.</a>
        And here is <a href="#5">another link.</a>
        And here is <a href="#6">another link.</a>
        And here is <a href="#7">another link.</a>
        And here is <a href="#8">another link.</a>
        And here is <a href="#9">another link.</a>
        And here is <a href="#10">another link.</a>
      </p>
      <p tabindex="0">
        This is a focusable p.
      </p>
      <div tabindex="0">
        <div>
          <p>Nested content in a focusable element.</p>
        </div>
      </div>
      <a href="#11" class="hover-focus">This will focus programatically on mouseover.</a>
    </section>
    <section id="unknown-only-focus">
      <h3>Unknown Only Focus</h3>
      <p>
        Focus can also be applied programically. In this case, the last example 
        link has focus brought to it on hover. This gives the type <code>unknown</code>.
      </p>
      <p>
        This is a <a href="#0">link.</a>
        And here is <a href="#1">another link.</a>
        And here is <a href="#2">another link.</a>
        And here is <a href="#3">another link.</a>
        And here is <a href="#4">another link.</a>
        And here is <a href="#5">another link.</a>
        And here is <a href="#6">another link.</a>
        And here is <a href="#7">another link.</a>
        And here is <a href="#8">another link.</a>
        And here is <a href="#9">another link.</a>
        And here is <a href="#10">another link.</a>
      </p>
      <p tabindex="0">
        This is a focusable p.
      </p>
      <div tabindex="0">
        <div>
          <p>Nested content in a focusable element.</p>
        </div>
      </div>
      <a href="#11" class="hover-focus">This will focus programatically on mouseover.</a>
    </section>
    <section id="problems-and-notes">
      <h2>Problems and Notes</h2>
      <h3>Isn't this <code>:focus-visible</code></h3>
      <p>
       Kinda. However, the current support for this is not great  <a href="https://caniuse.com/#search=%3Afocus-visible" target="_blank">(see support here)</a>, 
       and you don't get the additional insight about specific focus origins. Once/if <code>:focus-visible</code> has better support I can see 
       use cases where <strong class="focustype-brand">focustype</strong> is overkill.
      </p>
      <h3>Mixins</h3>
      <p>
        If you are using scss you may find the following mixins helpful.
        <pre><code>
@mixin key-only-focus {
  &[data-focustype="key"]:focus {
    @content;
  }
}

@mixin mouse-only-focus {
  &[data-focustype="mouse"] {
    @content;
  }
}

@mixin unknown-only-focus {
  &[data-focustype="unknown"]:focus {
    @content;
  }
}
        </code></pre>
      </p>
      <h3>What if the client doesn't have javascript enabled?</h3>
      <p>
        Styles should be written such that the usability isn't dependent on javascript.
        <strong class="focustype-brand">focustype</strong> adds a class to the body <code>focustype-loaded</code>
        when it is loaded. You can use this to your advantage.
      </p>
      <h3>Form Inputs</h3>
      <p>
        I'd personally avoid using key only or mouse only focus styling on certain form 
        inputs. In my opion many users will start to fill out a form by clicking in,
        then tabbing through parts, then clicking again. It could be confusing to the 
        user if elements have different looks.
      </p>
      <h3>Testing</h3>
      <p>
        I've tested this in Chrome, Safari, Firefox on a Mac..... so if you are hoping for a 
        solid solution make sure you test this stuff further. There are no guarantees of this working in all sceneries.
        LMK if you find issues.
      </p>
    </section>
    <script type="text/javascript" src="index.js"></script>
    <script type="text/javascript">
      var hoverlinks = document.querySelectorAll(".hover-focus");
      for (var i = 0; i < hoverlinks.length; i++) {
        hoverlinks[i].addEventListener("mouseover", function(event) {
          event.target.focus();  
        });
      }
    </script>
  </body>
</html>
